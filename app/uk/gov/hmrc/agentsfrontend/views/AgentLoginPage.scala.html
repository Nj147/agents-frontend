@import helper._
@import uk.gov.hmrc.agentsfrontend.persistence.domain.AgentLogin
@import uk.gov.hmrc.agentsfrontend.persistence.domain.{AgentLogin, AgentLoginForm}

@this(layout: Layout, govukButton: GovukButton, govukInput: GovukInput, govukErrorSummary : GovukErrorSummary)

@(form: Form[AgentLogin])(implicit request: Request[_], messages: Messages)

@layout(pageTitle = Some("Agent Login")) {

<h1 class="govuk-heading-xl">Enter your Login details</h1>
@helper.form(action=uk.gov.hmrc.agentsfrontend.controllers.routes.AgentLoginController.agentLoginSubmit()){
<div class="govuk-list govuk-error-summary__list">
    @if(form.errors.nonEmpty) {
    @defining(form.errors.map { error =>
    ErrorLink(href = Some(s"#${error.key}"), content = Text(messages(error.message, error.args:_*)))
    }) { errorLinks =>
    @govukErrorSummary(ErrorSummary(
    errorList = errorLinks,
    title = Text(messages("There is a problem")
    )
    ))
    }
    }

    @if(!form.errors("arn").nonEmpty){
    @govukInput(
    Input(
    id = "arn",
    value = Some(form.data("arn")),
    name = "ARN number",
    label = Label(
    isPageHeading = true,
    classes = "govuk-label-l",
    content = Text("ARN Number")
    )
    )
    )
    } else {
    @govukInput(
    Input(
    id = "arn",
    value = Some(form.data("arn")),
    name = "arn",
    label = Label(
    content = Text("First Name")
    ),
    hint = Some(Hint(content = Text("For example, John"))),
    errorMessage = Some(ErrorMessage(content = Text("Enter your name in lower case")))
    )
    )
    }

    @if(!form.errors("Password").nonEmpty){
    @govukInput(
    Input(
    id = "arn",
    value = Some(form.data("password")),
    name = "password",
    label = Label(
    isPageHeading = true,
    classes = "govuk-label-l",
    content = Text("Password")
    )
    )
    )
    } else {
    @govukInput(
    Input(
    id = "password",
    value = Some(form.data("password")),
    name = "password",
    label = Label(
    content = Text("Password")
    ),
    hint = Some(Hint(content = Text("For example, John"))),
    errorMessage = Some(ErrorMessage(content = Text("Enter your name in lower case")))
    )
    )
    }



</div>
<button name="submit-button" class="govuk-button" data-module="govuk-button" type="submit">Log in</button>
}
}